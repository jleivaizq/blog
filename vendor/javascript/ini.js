// ini@1.3.8 downloaded from https://ga.jspm.io/npm:ini@1.3.8/ini.js

import e from"process";var r={};var t=e;r.parse=r.decode=decode;r.stringify=r.encode=encode;r.safe=safe;r.unsafe=unsafe;var a="undefined"!==typeof t&&"win32"===t.platform?"\r\n":"\n";function encode(e,r){var t=[];var n="";if("string"===typeof r)r={section:r,whitespace:false};else{r=r||{};r.whitespace=true===r.whitespace}var s=r.whitespace?" = ":"=";Object.keys(e).forEach((function(r,i,c){var f=e[r];f&&Array.isArray(f)?f.forEach((function(e){n+=safe(r+"[]")+s+safe(e)+"\n"})):f&&"object"===typeof f?t.push(r):n+=safe(r)+s+safe(f)+a}));r.section&&n.length&&(n="["+safe(r.section)+"]"+a+n);t.forEach((function(t,s,i){var c=dotSplit(t).join("\\.");var f=(r.section?r.section+".":"")+c;var o=encode(e[t],{section:f,whitespace:r.whitespace});n.length&&o.length&&(n+=a);n+=o}));return n}function dotSplit(e){return e.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map((function(e){return e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")}))}function decode(e){var r={};var t=r;var a=null;var n=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i;var s=e.split(/[\r\n]+/g);s.forEach((function(e,s,i){if(e&&!e.match(/^\s*[;#]/)){var c=e.match(n);if(c)if(void 0===c[1]){var f=unsafe(c[2]);if("__proto__"!==f){var o=!c[3]||unsafe(c[4]);switch(o){case"true":case"false":case"null":o=JSON.parse(o)}if(f.length>2&&"[]"===f.slice(-2)){f=f.substring(0,f.length-2);if("__proto__"===f)return;t[f]?Array.isArray(t[f])||(t[f]=[t[f]]):t[f]=[]}Array.isArray(t[f])?t[f].push(o):t[f]=o}}else{a=unsafe(c[1]);if("__proto__"===a){t={};return}t=r[a]=r[a]||{}}}}));Object.keys(r).filter((function(e,t,a){if(!r[e]||"object"!==typeof r[e]||Array.isArray(r[e]))return false;var n=dotSplit(e);var s=r;var i=n.pop();var c=i.replace(/\\\./g,".");n.forEach((function(e,r,t){if("__proto__"!==e){s[e]&&"object"===typeof s[e]||(s[e]={});s=s[e]}}));if(s===r&&c===i)return false;s[c]=r[e];return true})).forEach((function(e,t,a){delete r[e]}));return r}function isQuoted(e){return'"'===e.charAt(0)&&'"'===e.slice(-1)||"'"===e.charAt(0)&&"'"===e.slice(-1)}function safe(e){return"string"!==typeof e||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&isQuoted(e)||e!==e.trim()?JSON.stringify(e):e.replace(/;/g,"\\;").replace(/#/g,"\\#")}function unsafe(e,r){e=(e||"").trim();if(!isQuoted(e)){var t=false;var a="";for(var n=0,s=e.length;n<s;n++){var i=e.charAt(n);if(t){-1!=="\\;#".indexOf(i)?a+=i:a+="\\"+i;t=false}else{if(-1!==";#".indexOf(i))break;"\\"===i?t=true:a+=i}}t&&(a+="\\");return a.trim()}"'"===e.charAt(0)&&(e=e.substr(1,e.length-2));try{e=JSON.parse(e)}catch(e){}return e}const n=r.parse,s=r.stringify;const i=r.decode,c=r.encode,f=r.safe,o=r.unsafe;export default r;export{i as decode,c as encode,n as parse,f as safe,s as stringify,o as unsafe};

