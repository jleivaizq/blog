// readline2@1.0.1 downloaded from https://ga.jspm.io/npm:readline2@1.0.1/index.js

import r from"readline";import t from"mute-stream";import e from"code-point-at";import o from"is-fullwidth-code-point";import s from"process";var i={};var a=s;var n=r;var u=t;var p=e;var v=o;var c=i={};c.createInterface=function(r){r||(r={});var t=r;t.input=r.input||a.stdin;var e=new u;e.pipe(r.output||a.stdout);t.output=e;var o=n.createInterface(t);var s=o._refreshLine;o._refreshLine=function(){s.call(o);var r=this._prompt+this.line;var t=this._getCursorPos();n.moveCursor(this.output,-r.length,0);n.moveCursor(this.output,t.cols,0)};o._getCursorPos=function(){var r=this.columns;var t=this._prompt+this.line.substring(0,this.cursor);var e=this._getDisplayPos(t);var o=e.cols;var s=e.rows;if(o+1===r&&this.cursor<this.line.length&&v(p(this.line,this.cursor))){s++;o=0}return{cols:o,rows:s}};o._getDisplayPos=function(r){var t=0;var e=this.columns;var o=0;var s;r=stripVTControlCharacters(r);for(var i=0,a=r.length;i<a;i++){s=p(r,i);s>=65536&&i++;if(10!==s)if(v(s)){(t+1)%e===0&&t++;t+=2}else t++;else{t=0;o+=1}}var n=t%e;var u=o+(t-n)/e;return{cols:n,rows:u}};var i=o._ttyWrite;o._ttyWrite=function(r,t){t||(t={});"up"!==t.name&&"down"!==t.name&&i.apply(this,arguments)};return o};var l=/(?:\x1b)([a-zA-Z0-9])/;var h=new RegExp("(?:+)(O|N|\\[|\\[\\[)(?:"+["(\\d+)(?:;(\\d+))?([~^$])","(?:M([@ #!a`])(.)(.))","(?:1;)?(\\d+)?([a-zA-Z])"].join("|")+")");function stripVTControlCharacters(r){r=r.replace(new RegExp(h.source,"g"),"");return r.replace(new RegExp(l.source,"g"),"")}var f=i;export default f;

