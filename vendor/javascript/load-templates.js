// load-templates@0.11.4 downloaded from https://ga.jspm.io/npm:load-templates@0.11.4/index.js

import t from"fs";import e from"path";import r from"lazy-cache";import n from"define-property";import i from"extend-shallow";import o from"glob-parent";import a from"has-glob";import f from"is-valid-glob";import s from"matched";import c from"to-file";import u from"buffer";import l from"process";var y={};var d=u.Buffer;var p=t;var m=e;var v=r(null);var w=null;require=v;n;i;o;a;f;s;c;require=w;v.isObject=function(t){return t&&"object"===typeof t&&!Array.isArray(t)};v.arrayify=function(t){return t?Array.isArray(t)?t:[t]:[]};v.isView=function(t){return!!v.isObject(t)&&(!(!t.isView&&!t.isItem)||(t.hasOwnProperty("contents")||t.hasOwnProperty("path")||t.isView))};v.tryStat=function(t){try{return p.statSync(t)}catch(t){}};v.renameKey=function(t,e){return e&&"function"===typeof e.renameKey?e.renameKey(t.path):t.base&&t.path?t.relative:t.path};v.isBuffer=function(t){return!(!t||!t.constructor||"function"!==typeof t.constructor.isBuffer)&&t.constructor.isBuffer(t)};v.isStream=function(t){return v.isObject(t)&&"function"===typeof t.pipe&&"function"===typeof t.on};v.syncContents=function(t,e){if(null===e||"undefined"===typeof t._contents||"undefined"===typeof t._content){v.define(t,"_contents",null);v.define(t,"_content",null)}if("string"===typeof e){t._contents=new d(e);t._content=e}if(v.isBuffer(e)){t._contents=e;t._content=e.toString()}if(v.isStream(e)){t._contents=e;t._content=e}};y=v;var h=y;var b={};var V=l;var g=t;var _=e;var O=h;b=function(t,e,r){if("function"===typeof t){r=t;e={};t=void 0}if("function"===typeof e){r=e;e={}}t=t||{};function loadViews(e,r){if(!e)return{};if(O.isView(r))return addView(e,r);if(O.isObject(e)||!O.isValidGlob(e))return addViews(e,r);if("string"===typeof e&&!r)return loader(e);loader(e,r);return t}function addView(e,r){t[e]=r;return t}function addViews(e){if(Array.isArray(e))e.forEach((function(t){loadViews(t)}));else for(var r in e)e.hasOwnProperty(r)&&addView(r,e[r]);return t}function loader(n,i){var o=O.extend({cwd:V.cwd()},e,i);o.cwd=_.resolve(o.cwd);var a=O.arrayify(n);var f="";if(O.hasGlob(n)){f=O.parent(a[0]);a=O.glob.sync(n,o);if(isPatterns(n,a))return t}var s=a.length;var c=-1;while(++c<s){var u=_.resolve(o.cwd,a[c]);var l={path:u,cwd:o.cwd};l.stat=O.tryStat(l.path);l.base=_.resolve(f&&"."!==f?f:l.cwd);if(l.stat&&(!l.stat.isDirectory||!l.stat.isDirectory())){O.syncContents(l,l.contents||l.content);l.options=l.options||{};l.locals=l.locals||{};l.data=l.data||{};O.define(l,"contents",{configurable:true,enumerable:true,set:function(t){O.syncContents(l,t)},get:function(){return l._contents||(l._contents=g.readFileSync(this.path))}});if("function"===typeof r){var y=r(l);"undefined"!==typeof y&&(l=y)}if(!l._isVinyl&&!l.isView){o.file=l;l=O.toFile(l.path,n,o)}l.key=O.renameKey(l,o);addView(l.key,l)}}return t}return loadViews};function isPatterns(t,e){t=O.arrayify(t);e=O.arrayify(e);if(e.length!==t.length)return false;for(var r=0;r<t.length;r++)if(-1!==e.indexOf(t[r]))return true;return false}var S=b;export default S;

