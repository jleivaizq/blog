// resolve-file@0.2.2 downloaded from https://ga.jspm.io/npm:resolve-file@0.2.2/index.js

import e from"path";import r from"fs";import t from"lazy-cache";import a from"cwd";import o from"expand-tilde";import n from"extend-shallow";import i from"fs-exists-sync";import s from"homedir-polyfill";import l from"resolve";import c from"process";var f={};var p=r;var m=t(null);var u=null;require=m;a;o;n;i;s;l;require=u;m.identity=function(e){return e};m.decorate=function(e,r){var t=r||m.identity;var a;Object.defineProperty(e,"stat",{configurable:true,set:function(e){a=e},get:function(){if(a)return a;if(!this.path)throw new Error("expected file.path to be a string, cannot get file.stat");if(m.exists(this.path)){a=p.lstatSync(this.path);return a}return null}});var o=t.call(e,e);"string"===typeof o&&(e.path=o);return e};f=m;var d=f;var h={};function _nullRequire(e){var r=new Error("Cannot find module '"+e+"'");r.code="MODULE_NOT_FOUND";throw r}_nullRequire.resolve=_nullRequire;var v=c;var w=e;var y=d;function resolve(e,r){var t=resolve.file(e,r);return t&&t.path}resolve.file=function(e,r){var t={};if(e&&"object"===typeof e&&e.path){t=e;e=t.path}"function"===typeof r&&(r={resolve:r});var a=y.extend({cwd:v.cwd()},r);var o=e.charAt(0);t.cwd=a.cwd;if(0===e.indexOf("npm:"))try{t.path=y.resolve.sync(w.resolve(t.cwd,e.slice(4)));t.cwd=w.dirname(t.path)}catch(r){throw new Error(`cannot resolve: '${e}'`)}else switch(o){case"~":t.cwd=y.home();t.path=y.expandTilde(e);break;case".":default:t.path=w.resolve(t.cwd,e);break}if(!y.exists(t.path))try{if(/[\\\/]/.test(e)){t.basename=w.basename(e);var n=w.dirname(e);t.name=w.basename(n);t.main=_nullRequire(n);t.path=w.resolve(w.dirname(t.main),t.basename)}if(!y.exists(t.path)){t.path=y.resolve.sync(e);t.main=t.path}}catch(e){if("MODULE_NOT_FOUND"!==e.code&&!/Cannot find module/.test(e.message))throw e}return y.exists(t.path)?y.decorate(t,a.resolve):null};h=resolve;var x=h;export default x;

