// base-store@0.4.4 downloaded from https://ga.jspm.io/npm:base-store@0.4.4/index.js

import e from"debug";import t from"lazy-cache";import r from"data-store";import i from"extend-shallow";import o from"is-registered";import s from"is-valid-instance";import n from"project-name";import a from"process";var m={};var f=e("base:store");var u=t(null);var d=null;require=u;r;i;o;s;n;require=d;u.isValid=function(e){if(!u.isValidInstance(e))return false;if(u.isRegistered(e,"base-store"))return false;f("initializing <%s>, from <%s>",new URL(import.meta.url).pathname,(void 0).id);return true};m=u;var l=m;var p={};var c=a;var v=l;p=function(e,t){if("string"!==typeof e){t=e;e=void 0}return function plugin(r){if(v.isValid(r)){"undefined"===typeof e&&(e=v.project(c.cwd()));var i=v.extend({},t,r.options.store);this.define("store",v.store(e,i));this.store.on("set",(function(e,t){r.emit("store.set",e,t);r.emit("store","set",e,t)}));this.store.on("get",(function(e,t){r.emit("store.get",e,t);r.emit("store","get",e,t)}));this.store.on("del",(function(e,t){r.emit("store.del",e,t);r.emit("store","del",e,t)}));return plugin}}};var g=p;export default g;

