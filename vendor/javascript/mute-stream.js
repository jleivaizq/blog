// mute-stream@0.0.5 downloaded from https://ga.jspm.io/npm:mute-stream@0.0.5/mute.js

import t from"stream";var e="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var r={};var o=t;r=MuteStream;function MuteStream(t){o.apply(this||e);t=t||{};(this||e).writable=(this||e).readable=true;(this||e).muted=false;this.on("pipe",(this||e)._onpipe);(this||e).replace=t.replace;(this||e)._prompt=t.prompt||null;(this||e)._hadControl=false}MuteStream.prototype=Object.create(o.prototype);Object.defineProperty(MuteStream.prototype,"constructor",{value:MuteStream,enumerable:false});MuteStream.prototype.mute=function(){(this||e).muted=true};MuteStream.prototype.unmute=function(){(this||e).muted=false};Object.defineProperty(MuteStream.prototype,"_onpipe",{value:onPipe,enumerable:false,writable:true,configurable:true});function onPipe(t){(this||e)._src=t}Object.defineProperty(MuteStream.prototype,"isTTY",{get:getIsTTY,set:setIsTTY,enumerable:true,configurable:true});function getIsTTY(){return(this||e)._dest?(this||e)._dest.isTTY:!!(this||e)._src&&(this||e)._src.isTTY}function setIsTTY(t){Object.defineProperty(this||e,"isTTY",{value:t,enumerable:true,writable:true,configurable:true})}Object.defineProperty(MuteStream.prototype,"rows",{get:function(){return(this||e)._dest?(this||e)._dest.rows:(this||e)._src?(this||e)._src.rows:void 0},enumerable:true,configurable:true});Object.defineProperty(MuteStream.prototype,"columns",{get:function(){return(this||e)._dest?(this||e)._dest.columns:(this||e)._src?(this||e)._src.columns:void 0},enumerable:true,configurable:true});MuteStream.prototype.pipe=function(t){(this||e)._dest=t;return o.prototype.pipe.call(this||e,t)};MuteStream.prototype.pause=function(){if((this||e)._src)return(this||e)._src.pause()};MuteStream.prototype.resume=function(){if((this||e)._src)return(this||e)._src.resume()};MuteStream.prototype.write=function(t){if((this||e).muted){if(!(this||e).replace)return true;if(t.match(/^\u001b/)){(this||e)._hadControl=true;return this.emit("data",t)}if((this||e)._prompt&&(this||e)._hadControl&&0===t.indexOf((this||e)._prompt)){(this||e)._hadControl=false;this.emit("data",(this||e)._prompt);t=t.substr((this||e)._prompt.length)}t=t.toString().replace(/./g,(this||e).replace)}this.emit("data",t)};MuteStream.prototype.end=function(t){(this||e).muted&&(t=t&&(this||e).replace?t.toString().replace(/./g,(this||e).replace):null);t&&this.emit("data",t);this.emit("end")};function proxy(t){return function(){var r=(this||e)._dest;var o=(this||e)._src;r&&r[t]&&r[t].apply(r,arguments);o&&o[t]&&o[t].apply(o,arguments)}}MuteStream.prototype.destroy=proxy("destroy");MuteStream.prototype.destroySoon=proxy("destroySoon");MuteStream.prototype.close=proxy("close");var i=r;export default i;

