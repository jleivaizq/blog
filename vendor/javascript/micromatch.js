// micromatch@2.3.11 downloaded from https://ga.jspm.io/npm:micromatch@2.3.11/index.js

import t from"path";import r from"filename-regex";import e from"arr-diff";import a from"array-unique";import n from"braces";import i from"expand-brackets";import o from"extglob";import s from"is-extglob";import c from"is-glob";import p from"kind-of";import f from"normalize-path";import u from"object.omit";import h from"parse-glob";import l from"regex-cache";import _ from"process";var g={};var m=_;var y=m&&"win32"===m.platform;var v=t;var b=r;var d=g;d.diff=e;d.unique=a;d.braces=n;d.brackets=i;d.extglob=o;d.isExtglob=s;d.isGlob=c;d.typeOf=p;d.normalize=f;d.omit=u;d.parseGlob=h;d.cache=l;d.filename=function filename(t){var r=t.match(b());return r&&r[0]};d.isPath=function isPath(t,r){r=r||{};return function(e){var a=d.unixify(e,r);return r.nocase?t.toLowerCase()===a.toLowerCase():t===a}};d.hasPath=function hasPath(t,r){return function(e){return-1!==d.unixify(t,r).indexOf(e)}};d.matchPath=function matchPath(t,r){var e=r&&r.contains?d.hasPath(t,r):d.isPath(t,r);return e};d.hasFilename=function hasFilename(t){return function(r){var e=d.filename(r);return e&&t.test(e)}};d.arrayify=function arrayify(t){return Array.isArray(t)?t:[t]};d.unixify=function unixify(t,r){return r&&false===r.unixify?t:r&&true===r.unixify||y||"\\"===v.sep?d.normalize(t,false):r&&true===r.unescape?t?t.toString().replace(/\\(\w)/g,"$1"):"":t};d.escapePath=function escapePath(t){return t.replace(/[\\.]/g,"\\$&")};d.unescapeGlob=function unescapeGlob(t){return t.replace(/[\\"']/g,"")};d.escapeRe=function escapeRe(t){return t.replace(/[-[\\$*+?.#^\s{}(|)\]]/g,"\\$&")};g=d;var E=g;var x={};var w={},k,A;function reverse(t,r){return Object.keys(t).reduce((function(e,a){var n=r?r+a:a;e[t[a]]=n;return e}),{})}w.escapeRegex={"?":/\?/g,"@":/\@/g,"!":/\!/g,"+":/\+/g,"*":/\*/g,"(":/\(/g,")":/\)/g,"[":/\[/g,"]":/\]/g};w.ESC={"?":"__UNESC_QMRK__","@":"__UNESC_AMPE__","!":"__UNESC_EXCL__","+":"__UNESC_PLUS__","*":"__UNESC_STAR__",",":"__UNESC_COMMA__","(":"__UNESC_LTPAREN__",")":"__UNESC_RTPAREN__","[":"__UNESC_LTBRACK__","]":"__UNESC_RTBRACK__"};w.UNESC=k||(k=reverse(w.ESC,"\\"));w.ESC_TEMP={"?":"__TEMP_QMRK__","@":"__TEMP_AMPE__","!":"__TEMP_EXCL__","*":"__TEMP_STAR__","+":"__TEMP_PLUS__",",":"__TEMP_COMMA__","(":"__TEMP_LTPAREN__",")":"__TEMP_RTPAREN__","[":"__TEMP_LTBRACK__","]":"__TEMP_RTBRACK__"};w.TEMP=A||(A=reverse(w.ESC_TEMP));x=w;var P=x;var R={};var S=P;var T=E;var C=R=function Glob(t,r){if(!(this instanceof Glob))return new Glob(t,r);this.options=r||{};this.pattern=t;this.history=[];this.tokens={};this.init(t)};C.prototype.init=function(t){this.orig=t;this.negated=this.isNegated();this.options.track=this.options.track||false;this.options.makeRe=true};C.prototype.track=function(t){this.options.track&&this.history.push({msg:t,pattern:this.pattern})};C.prototype.isNegated=function(){if(33===this.pattern.charCodeAt(0)){this.pattern=this.pattern.slice(1);return true}return false};C.prototype.braces=function(){if(true!==this.options.nobraces&&true!==this.options.nobrace){var t=this.pattern.match(/[\{\(\[]/g);var r=this.pattern.match(/[\}\)\]]/g);t&&r&&t.length!==r.length&&(this.options.makeRe=false);var e=T.braces(this.pattern,this.options);this.pattern=e.join("|")}};C.prototype.brackets=function(){true!==this.options.nobrackets&&(this.pattern=T.brackets(this.pattern))};C.prototype.extglob=function(){true!==this.options.noextglob&&T.isExtglob(this.pattern)&&(this.pattern=T.extglob(this.pattern,{escape:true}))};C.prototype.parse=function(t){this.tokens=T.parseGlob(t||this.pattern,true);return this.tokens};C.prototype._replace=function(t,r,e){this.track('before (find): "'+t+'" (replace with): "'+r+'"');e&&(r=esc(r));this.pattern=t&&r&&"string"===typeof t?this.pattern.split(t).join(r):this.pattern.replace(t,r);this.track("after")};C.prototype.escape=function(t){this.track("before escape: ");var r=/["\\](['"]?[^"'\\]['"]?)/g;this.pattern=t.replace(r,(function(t,r){var e=S.ESC;var a=e&&e[r];return a||(/[a-z]/i.test(t)?t.split("\\").join(""):t)}));this.track("after escape: ")};C.prototype.unescape=function(t){var r=/__([A-Z]+)_([A-Z]+)__/g;this.pattern=t.replace(r,(function(t,r){return S[r][t]}));this.pattern=unesc$1(this.pattern)};function esc(t){t=t.split("?").join("%~");t=t.split("*").join("%%");return t}function unesc$1(t){t=t.split("%~").join("?");t=t.split("%%").join("*");return t}var M=R;var $={};var j=E;var N=M;$=expand;function expand(t,r){if("string"!==typeof t)throw new TypeError("micromatch.expand(): argument should be a string.");var e=new N(t,r||{});var a=e.options;if(!j.isGlob(t)){e.pattern=e.pattern.replace(/([\/.])/g,"\\$1");return e}e.pattern=e.pattern.replace(/(\+)(?!\()/g,"\\$1");e.pattern=e.pattern.split("$").join("\\$");"boolean"!==typeof a.braces&&"boolean"!==typeof a.nobraces&&(a.braces=true);if(".*"===e.pattern)return{pattern:"\\."+G,tokens:n,options:a};if("*"===e.pattern)return{pattern:oneStar(a.dot),tokens:n,options:a};e.parse();var n=e.tokens;n.is.negated=a.negated;if((true===a.dotfiles||n.is.dotfile)&&false!==a.dot){a.dotfiles=true;a.dot=true}if((true===a.dotdirs||n.is.dotdir)&&false!==a.dot){a.dotdirs=true;a.dot=true}if(/[{,]\./.test(e.pattern)){a.makeRe=false;a.dot=true}true!==a.nonegate&&(a.negated=e.negated);"."===e.pattern.charAt(0)&&"/"!==e.pattern.charAt(1)&&(e.pattern="\\"+e.pattern);e.track("before braces");n.is.braces&&e.braces();e.track("after braces");e.track("before extglob");n.is.extglob&&e.extglob();e.track("after extglob");e.track("before brackets");n.is.brackets&&e.brackets();e.track("after brackets");e._replace("[!","[^");e._replace("(?","(%~");e._replace(/\[\]/,"\\[\\]");e._replace("/[","/"+(a.dot?L:U)+"[",true);e._replace("/?","/"+(a.dot?L:U)+"[^/]",true);e._replace("/.","/(?=.)\\.",true);e._replace(/^(\w):([\\\/]+?)/gi,"(?=.)$1:$2",true);-1!==e.pattern.indexOf("[^")&&(e.pattern=negateSlash(e.pattern));if(false!==a.globstar&&"**"===e.pattern)e.pattern=globstar(a.dot);else{e.pattern=balance(e.pattern,"[","]");e.escape(e.pattern);if(n.is.globstar){e.pattern=collapse(e.pattern,"/**");e.pattern=collapse(e.pattern,"**/");e._replace("/**/","(?:/"+globstar(a.dot)+"/|/)",true);e._replace(/\*{2,}/g,"**");e._replace(/(\w+)\*(?!\/)/g,"$1[^/]*?",true);e._replace(/\*\*\/\*(\w)/g,globstar(a.dot)+"\\/"+(a.dot?L:U)+"[^/]*?$1",true);true!==a.dot&&e._replace(/\*\*\/(.)/g,"(?:**\\/|)$1");(""!==n.path.dirname||/,\*\*|\*\*,/.test(e.orig))&&e._replace("**",globstar(a.dot),true)}e._replace(/\/\*$/,"\\/"+oneStar(a.dot),true);e._replace(/(?!\/)\*$/,G,true);e._replace(/([^\/]+)\*/,"$1"+oneStar(true),true);e._replace("*",oneStar(a.dot),true);e._replace("?.","?\\.",true);e._replace("?:","?:",true);e._replace(/\?+/g,(function(t){var r=t.length;return 1===r?O:O+"{"+r+"}"}));e._replace(/\.([*\w]+)/g,"\\.$1");e._replace(/\[\^[\\\/]+\]/g,O);e._replace(/\/+/g,"\\/");e._replace(/\\{2,}/g,"\\")}e.unescape(e.pattern);e._replace("__UNESC_STAR__","*");e._replace("?.","?\\.");e._replace("[^\\/]",O);e.pattern.length>1&&/^[\[?*]/.test(e.pattern)&&(e.pattern=(a.dot?L:U)+e.pattern);return e}function collapse(t,r){var e=t.split(r);var a=""===e[0];var n=""===e[e.length-1];e=e.filter(Boolean);a&&e.unshift("");n&&e.push("");return e.join(r)}function negateSlash(t){return t.replace(/\[\^([^\]]*?)\]/g,(function(t,r){-1===r.indexOf("/")&&(r="\\/"+r);return"[^"+r+"]"}))}function balance(t,r,e){var a=t.split(r);var n=a.join("").length;var i=t.split(e).join("").length;if(n!==i){t=a.join("\\"+r);return t.split(e).join("\\"+e)}return t}var O="[^/]";var G=O+"*?";var U="(?!\\.)(?=.)";var K="(?:\\/|^)\\.{1,2}($|\\/)";var L="(?!"+K+")(?=.)";var B="(?:(?!"+K+").)*?";function oneStar(t){return t?"(?!"+K+")(?=.)"+G:U+G}function globstar(t){return t?B:"(?:(?!(?:\\/|^)\\.).)*?"}var z=$;var q={};var F=z;var Q=E;function micromatch(t,r,e){if(!t||!r)return[];e=e||{};"undefined"===typeof e.cache&&(e.cache=true);if(!Array.isArray(r))return match(t,r,e);var a=r.length,n=0;var i=[],o=[];while(a--){var s=r[n++];"string"===typeof s&&33===s.charCodeAt(0)?i.push.apply(i,match(t,s.slice(1),e)):o.push.apply(o,match(t,s,e))}return Q.diff(o,i)}function match(t,r,e){if("string"!==Q.typeOf(t)&&!Array.isArray(t))throw new Error(msg("match","files","a string or array"));t=Q.arrayify(t);e=e||{};var a=e.negate||false;var n=r;if("string"===typeof r){a="!"===r.charAt(0);a&&(r=r.slice(1));true===e.nonegate&&(a=false)}var i=matcher(r,e);var o=t.length,s=0;var c=[];while(s<o){var p=t[s++];var f=Q.unixify(p,e);i(f)&&c.push(f)}if(0===c.length){if(true===e.failglob)throw new Error('micromatch.match() found no matches for: "'+n+'".');(e.nonull||e.nullglob)&&c.push(Q.unescapeGlob(n))}a&&(c=Q.diff(t,c));if(e.ignore&&e.ignore.length){r=e.ignore;e=Q.omit(e,["ignore"]);c=Q.diff(c,micromatch(c,r,e))}return e.nodupes?Q.unique(c):c}function filter(t,r){if(!Array.isArray(t)&&"string"!==typeof t)throw new TypeError(msg("filter","patterns","a string or array"));t=Q.arrayify(t);var e=t.length,a=0;var n=Array(e);while(a<e)n[a]=matcher(t[a++],r);return function(t){if(null==t)return[];var e=n.length,a=0;var i=true;t=Q.unixify(t,r);while(a<e){var o=n[a++];if(!o(t)){i=false;break}}return i}}function isMatch(t,r,e){if("string"!==typeof t)throw new TypeError(msg("isMatch","filepath","a string"));t=Q.unixify(t,e);return"object"===Q.typeOf(r)?matcher(t,r):matcher(r,e)(t)}function contains(t,r,e){if("string"!==typeof t)throw new TypeError(msg("contains","pattern","a string"));e=e||{};e.contains=""!==r;t=Q.unixify(t,e);return e.contains&&!Q.isGlob(r)?-1!==t.indexOf(r):matcher(r,e)(t)}function any(t,r,e){if(!Array.isArray(r)&&"string"!==typeof r)throw new TypeError(msg("any","patterns","a string or array"));r=Q.arrayify(r);var a=r.length;t=Q.unixify(t,e);while(a--){var n=matcher(r[a],e);if(n(t))return true}return false}function matchKeys(t,r,e){if("object"!==Q.typeOf(t))throw new TypeError(msg("matchKeys","first argument","an object"));var a=matcher(r,e);var n={};for(var i in t)t.hasOwnProperty(i)&&a(i)&&(n[i]=t[i]);return n}function matcher(t,r){if("function"===typeof t)return t;if(t instanceof RegExp)return function(r){return t.test(r)};if("string"!==typeof t)throw new TypeError(msg("matcher","pattern","a string, regex, or function"));t=Q.unixify(t,r);if(!Q.isGlob(t))return Q.matchPath(t,r);var e=makeRe(t,r);return r&&r.matchBase?Q.hasFilename(e,r):function(t){t=Q.unixify(t,r);return e.test(t)}}function toRegex(t,r){var e=Object.create(r||{});var a=e.flags||"";e.nocase&&-1===a.indexOf("i")&&(a+="i");var n=F(t,e);e.negated=e.negated||n.negated;e.negate=e.negated;t=wrapGlob(n.pattern,e);var i;try{i=new RegExp(t,a);return i}catch(t){t.reason="micromatch invalid regex: ("+i+")";if(e.strict)throw new SyntaxError(t)}return/$^/}function wrapGlob(t,r){var e=r&&!r.contains?"^":"";var a=r&&!r.contains?"$":"";t="(?:"+t+")"+a;return r&&r.negate?e+"(?!^"+t+").*$":e+t}function makeRe(t,r){if("string"!==Q.typeOf(t))throw new Error(msg("makeRe","glob","a string"));return Q.cache(toRegex,t,r)}function msg(t,r,e){return"micromatch."+t+"(): "+r+" should be "+e+"."}micromatch.any=any;micromatch.braces=micromatch.braceExpand=Q.braces;micromatch.contains=contains;micromatch.expand=F;micromatch.filter=filter;micromatch.isMatch=isMatch;micromatch.makeRe=makeRe;micromatch.match=match;micromatch.matcher=matcher;micromatch.matchKeys=matchKeys;q=micromatch;var X=q;export default X;

