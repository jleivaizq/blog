// time-diff@0.3.1 downloaded from https://ga.jspm.io/npm:time-diff@0.3.1/index.js

import t from"extend-shallow";import i from"is-number";import e from"pretty-time";import o from"log-utils";import r from"process";var s={};var f=r;var n=t;var l=i;var a=e;var m=o;function Time(t){if(!(this instanceof Time))return new Time(t);this.options=t||{};var i=this.options.smallest;var e=this.options.digits;if(l(i)){e=i;i=null}this.smallest=i;this.digits=e;this.times={}}Time.prototype.start=function(t){return this.times[t]=f.hrtime()};Time.prototype.end=function(t,i,e){var o=this.times[t];if("undefined"===typeof o)throw new Error(m.colors.red('start time not defined for "'+t+'"'));if(l(i)){e=i;i=null}!i&&this.smallest&&(i=this.smallest);!e&&this.digits&&(e=this.digits);return a(f.hrtime(o),i,e)};Time.prototype.diff=function(t,i){var e={};n(e,this.options,i);this.start(t);var o=this;var r;function diff(i){"undefined"!==typeof e.logTimeDiffs&&(e.logDiff=e.logTimeDiffs);if("string"!==typeof e.logDiff||toRegex(e.logDiff).test(t))if(false!==e.logDiff){var s=m.timestamp;var f=m.colors.magenta;var n=m.colors.gray;var l=false===e.prefix?"":t;"function"===typeof e.diffColor&&(n=e.diffColor);if(true===e.nocolor){f=identity;n=identity}false===e.timestamp&&(s="");var a=f(o.end(t));var p;"undefined"!==typeof r&&(p=o.end(r));o.start(i);r=i;"string"===typeof p&&(a+=n(" (+"+p+")"));var d=[s,l,i,a].filter(Boolean);"function"===typeof e.formatArgs&&(d=[].concat(e.formatArgs.apply(null,d)||[]));console.error.apply(console,d)}else o.times[t]=null;else o.times[t]=null}return diff};function toRegex(t){~t.indexOf(",")&&(t="("+t.split(",").join("|")+")");t=t.replace(/\*/g,"[^.]*?");return new RegExp("^"+t+"$")}function identity(t){return t}s=Time;var p=s;export default p;

