// engine-utils@0.1.1 downloaded from https://ga.jspm.io/npm:engine-utils@0.1.1/index.js

import e from"fs";import r from"path";var n={};var a=e;var t=r;n.requires={};var i={};var c={};n.clearCache=function(){i={}};n.cache=function cache(e,r){if(r&&e.filename&&e.cache){delete c[e.filename];i[e.filename]=r;return r}return e.filename&&e.cache?i[e.filename]:r};function read(e,r,n){var t=c[e];var i=r.cache&&t&&"string"===typeof t;if(i)return n(null,t);a.readFile(e,"utf8",(function(a,t){if(a)return n(a);t=t.replace(/^\uFEFF/,"");r.cache&&(c[e]=t);n(null,t)}))}n.readPartials=function(e,r,n){if(!r.partials)return n();var a=r.partials;var i=Object.keys(a);function next(c){if(c===i.length)return n(null);var f=i[c];var u=t.join(t.dirname(e),a[f]+t.extname(e));read(u,r,(function(e,a){if(e)return n(e);r.partials[f]=a;next(++c)}))}next(0)};n.fromStringRenderer=function(e){return function(r,a,t){a.filename=r;n.readPartials(r,a,(function(i){if(i)return t(i);n.cache(a)?n[e].render("",a,t):read(r,a,(function(r,i){if(r)return t(r);n[e].render(i,a,t)}))}))}};const f=n.requires,u=n.clearCache,l=n.cache,o=n.readPartials,d=n.fromStringRenderer;export default n;export{l as cache,u as clearCache,d as fromStringRenderer,o as readPartials,f as requires};

