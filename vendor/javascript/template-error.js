// template-error@0.1.2 downloaded from https://ga.jspm.io/npm:template-error@0.1.2/index.js

import r from"fs";import e from"lazy-cache";var t={};var n=r;var a=e(null);a("kind-of","typeOf");a("rethrow");a("engine");function error(r,e){e=e||{};var t=e.fp||"string";var n=e.data||{};var o=e.regex||/<%-([\s\S]+?)%>|<%=([\s\S]+?)%>|\$\{([^\\}]*(?:\\.[^\\}]*)*)\}|<%([\s\S]+?)%>|$/g;var i=toRegexp(o);r.replace(i,(function(e,o,p){try{var v=a.engine();v.render(r,n)}catch(n){var f=a.rethrow({});var o=matchProp(n.message);var e=findProp(o,r,i);var c=r.slice(0,e.index);var s=c.split("\n").length;f(n,t,s,r)}}))}function matchProp(r){var e=/(\w+) is not defined/;var t=e.exec(r);if(t)return t[1]}function findProp(r,e,t){var n=t.source;var a=/^([-{<\[=%]+)/.exec(n);var o="(?:["+a[0].split("").join("\\")+"\\s]+)";var i=o+".*"+r;var t=new RegExp(i,"m");return t.exec(e)}function toRegexp(r){return"regexp"===a.typeOf(r)?r:"object"===a.typeOf(r)?r.interpolate:void 0}function toSettings(r){return"regexp"===a.typeOf(r)?{interpolate:r}:"object"===a.typeOf(r)?r:null}t=error;var o=t;export default o;

