// parse-github-url@0.3.2 downloaded from https://ga.jspm.io/npm:parse-github-url@0.3.2/index.js

import e from"url";var r={};var n=e;var t={};r=function parseGithubUrl(e){return t[e]||(t[e]=parse(e))};function parse(e){if("string"!==typeof e||!e.length)return null;if(-1!==e.indexOf("git@gist")||-1!==e.indexOf("//gist"))return null;var r=n.parse(e);if("string"!==typeof r.path||!r.path.length||"string"!==typeof r.pathname||!r.pathname.length)return null;r.path=trimSlash(r.path);r.pathname=trimSlash(r.pathname);0===r.path.indexOf("repos")&&(r.path=r.path.slice(6));var t=r.path.split("/").filter(Boolean);var a="blob"===t[2];a&&!isChecksum(t[3])&&(r.branch=t[3]);var i=e.indexOf("blob");if(-1!==i){r.blob=e.slice(i+5);e=e.slice(0,i)}var l=e.indexOf("tree");-1!==l&&(r.branch=e.slice(l+5));r.owner=owner(t[0]);r.name=name(t[1]);if(t.length>1&&r.owner&&r.name)r.repo=r.owner+"/"+r.name;else{var h=r.href.split(":");if(2===h.length&&-1===r.href.indexOf("//")){r.repo=r.repo||h[h.length-1];var o=r.repo.split("/");r.owner=o[0];r.name=o[1]}else{var p=r.href.match(/\/([^\/]*)$/);r.owner=p?p[1]:null;r.repo=null}if(r.repo&&(!r.owner||!r.name)){var s=r.repo.split("/");if(2===s.length){r.owner=s[0];r.name=s[1]}}}r.branch=r.branch||t[2]||getBranch(r.path,r);var f={};f.host=r.host||"github.com";f.owner=r.owner||null;f.name=r.name||null;f.repo=r.repo;f.repository=f.repo;f.branch=r.branch;return f}function isChecksum(e){return/^[a-f0-9]{40}$/i.test(e)}function getBranch(e,r){var n;var t=e.split("#");1!==t.length&&(n=t[t.length-1]);!n&&r.hash&&"#"===r.hash.charAt(0)&&(n=r.hash.slice(1));return n||"master"}function trimSlash(e){return"/"===e.charAt(0)?e.slice(1):e}function name(e){return e?e.replace(/^\W+|\.git$/g,""):null}function owner(e){if(!e)return null;var r=e.indexOf(":");return r>-1?e.slice(r+1):e}var a=r;export default a;

